- **游戏定位**：单机闯关 + 武将/特种兵抽卡养成。

- **战斗系统核心**：

  - **单位容量制**：武将统帅值（Leadership）限制带兵。刀/弓(1), 骑(2), 特(3)。

  - **属性去防御化**：伤害纯看攻击力与克制系数。

  - **特种兵“拐”机制**：1个特种兵强化2个基础单位（攻击力 ×2）。

  - **克制闭环**：刀 → 弓 → 骑 → 刀（×2 伤害）。

  - **胜负判定**：破城需消耗总兵力血量。武将性格影响最终战损系数。


### 细化后的特种兵规则 (Special Unit Rules)

我们把特种兵的作用逻辑定为：**专属强化 + 武将加持**。

- **中国 (CN) 特种兵**：**【步兵统领】**。强化“刀兵”，比例 1:2，攻击力提高 1 倍。

- **日本 (JP) 特种兵**：**【影武者】**。强化“弓兵”，比例 1:2，攻击力提高 1 倍。

- **韩国 (KR) 特种兵**：**【神机弩手】**。强化“骑兵”，比例 1:2，攻击力提高 1 倍。

- **英国 (EN) 特种兵**：**【王室亲卫】**。**不强化士兵**，而是直接加持**武将**。

  - **规则**：5 个亲卫强化武将 1 次。

  - **计算**：如果带了 50 个亲卫，武将的最终伤害额外增加 10×系数。这让英国成了“英雄流”玩法。

---

### 第二步：数据库 ER 图设计思路

我们需要四张核心表来支撑这个闭环。我先用文字描述逻辑，你可以看看是否符合你的设想。

#### 1. 武将模版表 (`general_template`)

- 存放武将的原始数据（SSR、基础统帅值等）。

- **字段**：`id`, `name`, `rarity` (稀有度), `base_leadership` (基础统帅), `default_personality` (初始性格)。


#### 2. 玩家武将表 (`user_general`) —— **你的氪金点在这**

- 存放玩家抽到的具体武将实例。

- **字段**：`id`, `user_id`, `template_id`, `current_level`, `current_personality` (可付费修改), `exp`。


#### 3. 兵种属性配置表 (`unit_config`)

- 存放四种兵种的静态属性。

- **字段**：`unit_type` (刀/弓/骑/特), `space_cost` (占用容量: 1/1/2/3), `base_hp`, `base_atk`, `buff_ratio` (特种兵专属字段，存那个“2”)。


#### 4. 关卡/城池配置表 (`stage_config`) —— **闯关目标**

- **字段**：`id`, `city_name`, `defense_value` (城防血量), `enemy_unit_type`, `enemy_count` (守军配置)。


---

### 第三步：如何画 ER 图？

我建议你先画一个简易的逻辑图。

**英语小课堂（ER 图术语）：**

- **Entity**：实体（对应一张表）。

- **Attribute**：属性（对应表里的字段）。

- **Relationship**：关系（比如一个玩家拥有多个武将，One-to-Many）。

- **Primary Key (PK)**：主键（唯一标识，比如武将ID）。